# item 17 : ë³€ê²½ ê°€ëŠ¥ì„±ì„ ìµœì†Œí™”í•˜ë¼

## 1. ë¶ˆí¸ í´ë˜ìŠ¤

{% hint style="info" %}
ë¶ˆë³€ í´ë˜ìŠ¤ëŠ” ê°€ë³€ í´ë˜ìŠ¤ë³´ë‹¤ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ê³  ì‚¬ìš©í•˜ê¸° ì‰¬ìš°ë©°, ì˜¤ë¥˜ê°€ ìƒê¸¸ ì—¬ì§€ë„ ì ê³  í›¨ì”¬ ì•ˆì „í•˜ë‹¤.
{% endhint %}

### 1) ë¶ˆë³€ í´ë˜ìŠ¤ë€?

ì¸ìŠ¤í„´ìŠ¤ì˜ ë‚´ë¶€ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” í´ë˜ìŠ¤ë‹¤. ë¶ˆë³€ ì¸ìŠ¤í„´ìŠ¤ì— ê°„ì§ëœ ì •ë³´ëŠ” ê³ ì •ë˜ì–´ ê°ì²´ê°€ íŒŒê´´ë˜ëŠ” ìˆœê°„ê¹Œì§€ ì ˆëŒ€ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤.

## 2. í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ  ë§Œë“¤ê¸° ìœ„í•´  ì§€ì¼œì•¼ í•˜ëŠ” 5ê°€ì§€ ê·œì¹™

### 1) ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œ(ë³€ê²½ì) setterë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.&#x20;

> [ğŸ§ ](https://ttl-blog.tistory.com/1205#%F0%9F%A7%90%20%EA%B0%9D%EC%B2%B4%EC%9D%98%20%EC%83%81%ED%83%9C%EB%A5%BC%20%EB%B3%80%EA%B2%BD%ED%95%98%EB%8A%94%20%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC%20%EC%A0%9C%EA%B3%B5%ED%95%98%EC%A7%80%20%EC%95%8A%EB%8A%94%EB%8B%A4-1)ë§Œì•½ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤ë©´?

```java
public class Person {

    private String name;

    public Person(final String name) {
        this.name = name;
    }

    public String name() {
        return name;
    }
    
    /* ë³€ê²½ì */
    public void setName(final String name) {
        this.name = name;
    }
}
```

ë°”ê¹¥ì—ì„œ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŒ

```java
public class Main {

    public static void main(String[] args) {
        Person boki = new Person("boki ");
        System.out.println(boki .name());
        boki.setName("lotto");
        System.out.println(boki.name()); // lotto
    }
}

```

í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìŒ



### 2) í´ë˜ìŠ¤ë¥¼ í™•ì¥í•  ìˆ˜ ì—†ë„ë¡ í•œë‹¤.&#x20;

í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë¶€ì£¼ì˜í•˜ê²Œ í˜¹ì€ ë‚˜ìœ ì˜ë„ë¡œ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€í•˜ê²Œ ë§Œë“œëŠ” ì‚¬íƒœë¥¼ ë§‰ì•„ì¤€ë‹¤. **ìƒì†ì„ ë§‰ëŠ” ëŒ€í‘œì  ì¸ ë°©ë²•ì€ í´ë˜ìŠ¤**ë¥¼ `final`ë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì´ë‹¤.



ìƒì†ì˜ ë°©ë²•ì„ ë§‰ëŠ” ë°©ë²• 2ê°€ì§€

1. **í´ë˜ìŠ¤ë¥¼ finalë¡œ ì„¤ì •í•˜ëŠ” ê²ƒ**

> í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ìˆë‹¤ë©´, í•´ë‹¹ í´ë˜ìŠ¤ëŠ” ê°’ì´ ë³€ê²½ë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•˜ëŠ”ë°, ì´ê²Œ ì–´ë–»ê²Œ ê°€ëŠ¥í• ê¹Œë¥¼ finalë¡œ í•˜ì§€ ì•Šì•˜ì„ ë•Œë¥¼ ë³´ë©´!

```java
public class Animal {

    private String type;

    public Animal(final String type) {
        this.type = type;
    }

    public String type() {
        return type; // type() ë©”ì„œë“œë¥¼ í†µí•´ type í•„ë“œì˜ ê°’ì„ ë°˜í™˜
    }
}
```

setterë¥¼ ì œê±°í•¨ìœ¼ë¡œì¨ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œ ì œê³µ í•˜ì§€ ì•Šë„ë¡ ìˆ˜ì •

{% hint style="success" %}
ê·¸ë ‡ë‹¤ë©´ ê°’ì„ ë°”ê¾¸ë ¤ë©´? privateë¡œ ë‚´ë¶€ ê°’ ë°”ê¿€ ìˆ˜ëŠ” ì—†ìœ¼ë‚˜ **ë°”ë€ ê²ƒì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥**
{% endhint %}

**`Dog` í´ë˜ìŠ¤ (Animalì„ ìƒì†):**

```java
public class Dog extends Animal {

    private String type;

    // type í•„ë“œë¥¼ privateìœ¼ë¡œ ì„ ì–¸í•˜ê³ , ìƒì„±ìë¥¼ í†µí•´ ì´ˆê¸°í™”
    public Dog(final String type) {
        super(type);
        this.type = "Unknown Type " + type;  // ìƒì„±ìì—ì„œ this.typeì— "Unknown Type " ë¬¸ìì—´ì„ ë¶™ì—¬ ì´ˆê¸°í™”
    }

    @Override
    public String type() {
        return "Dog Type: " + this.type;
    }
}
```

**`Main` í´ë˜ìŠ¤:**

```java
public class Main {

    // animal.type()ì„ í˜¸ì¶œí•˜ë©´ Dog í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ëœ type() ë©”ì„œë“œê°€ í˜¸ì¶œ
    public static void main(String[] args) {
        Animal animal = new Dog("Bulldog");
        System.out.println(animal.type());
    }
}
```

#### ì‹¤í–‰ ê²°ê³¼:

```python
Dog Type: Unknown Type Bulldog
```

#### ì´ ì½”ë“œê°€ ë³´ì—¬ì£¼ëŠ” ì :

* **ìƒì†ì„ í†µí•œ ë™ì‘ ë³€ê²½**: `Dog` í´ë˜ìŠ¤ëŠ” `Animal` í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ `type()` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ê³  ìˆë‹¤. ì´ë¥¼ í†µí•´ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë™ì‘ì„ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆìŒì„ ë³´ì—¬ì¤€ë‹¤.
* **í•„ë“œ ìˆ¨ê¹€(Field Hiding)**: `Dog` í´ë˜ìŠ¤ì—ì„œ `type` í•„ë“œë¥¼ ë‹¤ì‹œ ì„ ì–¸í•¨ìœ¼ë¡œì¨, ë¶€ëª¨ í´ë˜ìŠ¤ì˜ `type` í•„ë“œë¥¼ ê°€ë¦¬ê³  ìˆë‹¤. ì´ëŠ” ì¢‹ì€ ì„¤ê³„ê°€ ì•„ë‹ˆë©°, í˜¼ë€ì„ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤.
* **ë¶ˆë³€ì„± ìœ„ë°˜ ê°€ëŠ¥ì„±**: `Animal` í´ë˜ìŠ¤ëŠ” ìì‹ ì˜ í•„ë“œë¥¼ `private`ìœ¼ë¡œ ì„ ì–¸í•˜ê³  ìˆì§€ë§Œ, ìƒì†ì„ í†µí•´ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë™ì‘ì´ ë³€ê²½ë  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ **ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” í´ë˜ìŠ¤ì˜ ìƒì†ì„ ë§‰ê±°ë‚˜(final í´ë˜ìŠ¤), í•„ë“œë¥¼ `final`ë¡œ ì„ ì–¸í•˜ëŠ” ë“±ì˜ ì¡°ì¹˜ê°€ í•„ìš”í•˜**ë‹¤.

#### ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•:

* **í´ë˜ìŠ¤ë¥¼ `final`ë¡œ ì„ ì–¸**í•˜ì—¬ ìƒì†ì„ ê¸ˆì§€

```java
public final class Animal {
    // í´ë˜ìŠ¤ ë‚´ìš©
}
```

* **í•„ë“œë¥¼ `private final`ë¡œ ì„ ì–¸**í•˜ì—¬ í•„ë“œê°€ í•œ ë²ˆ ì´ˆê¸°í™”ëœ í›„ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ í•œë‹¤.

```java
private final String type;
```

* **ë©”ì„œë“œë¥¼ `final`ë¡œ ì„ ì–¸**í•˜ì—¬ ì˜¤ë²„ë¼ì´ë”©ì„ ë°©ì§€í•œë‹¤.

```java
public final String type() {
    return type;
}
```

#### ìˆ˜ì •ëœ `Animal` í´ë˜ìŠ¤ (ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë„ë¡):

```java
public final class Animal {

    private final String type;

    public Animal(final String type) {
        this.type = type;
    }

    public String getType() {
        return type;
    }
}
```

ì´ë ‡ê²Œ ìˆ˜ì •í•˜ë©´ `Animal` í´ë˜ìŠ¤ë¥¼ ìƒì†í•  ìˆ˜ ì—†ìœ¼ë©°, í•„ë“œë„ ë³€ê²½í•  ìˆ˜ ì—†ê²Œ ë˜ì–´ **ë¶ˆë³€ì„±ì´ ìœ ì§€**ëœë‹¤.

{% hint style="warning" %}
ì—¬ê¸°ì„œ ì˜ë¬¸ : ì´ë ‡ê²Œí•˜ë©´í´ë¼ì´ì–¸íŠ¸ê°€ ê²°êµ­ ìˆ˜ì •ë„ ëª»í•´ì„œ ë¶ˆë³€ í´ë˜ìŠ¤ëŠ” ì˜¤íˆë ¤ ì•ˆì¢‹ì€ê²Œ ì•„ë‹Œê°€?
{% endhint %}

ë‹µë³€ : ë¶ˆë³€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ê°ì²´ì˜ ìƒíƒœë¥¼ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë¶ˆí¸í•˜ë‹¤ê³  ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë¶ˆë³€ í´ë˜ìŠ¤ëŠ” ì—¬ëŸ¬ ê°€ì§€ **ì¥ì **ì„ ì œê³µí•˜ë©°, ì´ëŸ¬í•œ ì´ì ì„ í†µí•´ ì½”ë“œì˜ ì•ˆì •ì„±ê³¼ ì‹ ë¢°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### í´ë¼ì´ì–¸íŠ¸ê°€ ê°’ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ

ë¶ˆë³€ í´ë˜ìŠ¤ì—ì„œëŠ” ê°ì²´ì˜ ìƒíƒœë¥¼ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ì—†ì§€ë§Œ, **ë³€ê²½ëœ ê°’ì„ ê°€ì§„ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜**í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ í”íˆ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ, ê°ì²´ì˜ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ í•„ìš”í•œ ë³€ê²½ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ: `Animal` í´ë˜ìŠ¤ì— ë³€ê²½ ë©”ì„œë“œ ì¶”ê°€**

```java
public final class Animal {

    private final String type;

    public Animal(final String type) {
        this.type = type;
    }

    public String getType() {
        return type;
    }

    // ìƒˆë¡œìš´ íƒ€ì…ì˜ Animal ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ
    public Animal withType(String newType) {
        return new Animal(newType);
    }
}
```

**ì‚¬ìš© ë°©ë²•**

```java
public class Main {

    public static void main(String[] args) {
        Animal animal = new Animal("Cat");

        // ê¸°ì¡´ ê°ì²´ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±
        Animal newAnimal = animal.withType("Dog");

        System.out.println(animal.getType());      // ì¶œë ¥: Cat
        System.out.println(newAnimal.getType());   // ì¶œë ¥: Dog
    }
}
```

ìœ„ ì˜ˆì‹œì—ì„œ `animal` ê°ì²´ëŠ” ì—¬ì „íˆ `"Cat"` íƒ€ì…ì„ ìœ ì§€í•˜ë©°, `newAnimal`ì€ `"Dog"` íƒ€ì…ì„ ê°–ëŠ” ìƒˆë¡œìš´ ê°ì²´ì…ë‹ˆë‹¤. ì´ì²˜ëŸ¼ ë¶ˆë³€ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ì›ë³¸ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ì›í•˜ëŠ” ê°’ì„ ê°€ì§„ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¶ˆë³€ í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ ìœ ìš©í•©ë‹ˆë‹¤:

* **ì•ˆì „í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì½”ë“œ ì‘ì„±**: ìƒíƒœ ë³€ê²½ì— ë”°ë¥¸ ì˜ˆê¸°ì¹˜ ì•Šì€ ë²„ê·¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œì˜ ì•ˆì „ì„± í™•ë³´**: ë™ê¸°í™” ì—†ì´ë„ ìŠ¤ë ˆë“œ ì•ˆì „ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.
* **ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±**: ê°ì²´ì˜ ìƒíƒœê°€ ë³€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì½”ë“œì˜ ë³µì¡ì„±ì´ ê°ì†Œí•©ë‹ˆë‹¤.

{% hint style="danger" %}
ê²°êµ­ ì—¬ëŸ¬ê°œì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê±´ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì°¨ì§€í•˜ëŠ” ê²ƒê³¼ë„ ì—°ê´€ì´ ìˆëŠ”ê±° ì•„ë‹Œê°€?
{% endhint %}

ë‹µë³€ : ë§ìŠµë‹ˆë‹¤. **ë¶ˆë³€ ê°ì²´ë¥¼ ì‚¬ìš©í•  ë•Œ ë³€ê²½í•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±**í•˜ë¯€ë¡œ, **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€**í•  ìˆ˜ ìˆë‹¤ëŠ” ìš°ë ¤ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë¶ˆë³€ í´ë˜ìŠ¤ì˜ ë‹¨ì  ì¤‘ í•˜ë‚˜ë¡œ ì–¸ê¸‰ë˜ê¸°ë„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì´ëŸ¬í•œ ë©”ëª¨ë¦¬ ì‚¬ìš© ì¦ê°€ê°€ **ì‹¬ê°í•œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ëŠ” ê²½ìš°ëŠ” ë“œë­…ë‹ˆë‹¤**.&#x20;

* **ë¶ˆë³€ ê°ì²´ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ë©”ëª¨ë¦¬ ì‚¬ìš© ì¦ê°€**ëŠ” ì¡´ì¬í•˜ì§€ë§Œ, **í˜„ëŒ€ JVMì˜ ìµœì í™”ì™€ í”„ë¡œê·¸ë˜ë° ê¸°ë²•**ì„ í†µí•´ **ê·¸ ì˜í–¥ì„ ìµœì†Œí™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ë¶ˆë³€ í´ë˜ìŠ¤ì˜ ì¥ì **ì¸ **ì•ˆì •ì„±**, **ìŠ¤ë ˆë“œ ì•ˆì „ì„±**, **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€ë¡œ ì¸í•œ ë‹¨ì ì„ ìƒì‡„í•˜ê³ ë„ ë‚¨ìŠµë‹ˆë‹¤.
* **ì‹¤ì œ ê°œë°œì—ì„œëŠ” ë¶ˆë³€ ê°ì²´ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì‚¬ìš©**í•˜ê³ , **ë©”ëª¨ë¦¬ ì‚¬ìš©ì´ ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ì— í•œí•´ ìµœì í™” ê¸°ë²•ì„ ì ìš©**í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.



2. **public ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ë°©ë²•**

> ëª¨ë“  ìƒì„±ìë¥¼ private í˜¹ì€ package-private(default)ë¡œ ë§Œë“¤ í›„, public ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ë°©ë²•

```java
public final class Animal {

    private final String type;

    // private ìƒì„±ì: ì™¸ë¶€ì—ì„œ ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë¶ˆê°€
    private Animal(final String type) {
        this.type = type;
    }

    // public ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ
    public static Animal of(String type) {
        return new Animal(type);
    }

    public String getType() {
        return type;
    }
}

```

package ì™¸ë¶€ì—ì„œëŠ” ì‚¬ì‹¤ìƒ final í´ë˜ìŠ¤ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•  ë¿ë”ëŸ¬, ë‚´ë¶€ì—ì„œëŠ” í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ì—¬ ì—¬ëŸ¬ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í›¨ì”¬ ìœ ì—°í•œ ë°©ë²•

#### ì‚¬ìš©ë²•

```java
public class Main {

    public static void main(String[] args) {
        Animal cat = Animal.of("Cat");
        Animal dog = Animal.of("Dog");

        System.out.println(cat.getType()); // ì¶œë ¥: Cat
        System.out.println(dog.getType()); // ì¶œë ¥: Dog
    }
}

```

#### ğŸŒ±   ì¸ìŠ¤í„´ìŠ¤ ìºì‹±ì„ í†µí•œ ë©”ëª¨ë¦¬ íš¨ìœ¨ ê°œì„ 

ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ **ìºì‹±**ì„ í†µí•´ ë™ì¼í•œ ê°’ì„ ê°€ì§„ ê°ì²´ì˜ ì¤‘ë³µ ìƒì„±ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.&#x20;

```java
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;

public final class Animal {

    private static final Map<String, Animal> CACHE = new ConcurrentHashMap<>();

    private final String type;

    private Animal(final String type) {
        this.type = type;
    }

    public static Animal of(String type) {
        // ì´ë¯¸ í•´ë‹¹ íƒ€ì…ì˜ ê°ì²´ê°€ ì¡´ì¬í•˜ë©´ ì¬ì‚¬ìš©
        return CACHE.computeIfAbsent(type, t -> new Animal(t));
    }

    public String getType() {
        return type;
    }
}
```

**ì„¤ëª…**

* **`CACHE` ë§µ**:
  * `ConcurrentHashMap`ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ë ˆë“œ ì•ˆì „í•˜ê²Œ ìºì‹±ì„ êµ¬í˜„í•œë‹¤.
  * í‚¤ëŠ” `type` ë¬¸ìì—´ì´ê³ , ê°’ì€ í•´ë‹¹ `Animal` ê°ì²´ì´ë‹¤.
* **`computeIfAbsent` ë©”ì„œë“œ**:
  * `CACHE`ì— í•´ë‹¹ `type`ì˜ ê°ì²´ê°€ ì—†ì„ ê²½ìš°ì—ë§Œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì´ë¯¸ ì¡´ì¬í•˜ë©´ ê·¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
* **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ**:
  * ë™ì¼í•œ `type`ì„ ê°€ì§„ ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ë¯€ë¡œ **ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ ì¤„ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤**.

#### ìºì‹±ëœ ê°ì²´ ì‚¬ìš© ì˜ˆì‹œ

```java
public class Main {

    public static void main(String[] args) {
        Animal animal1 = Animal.of("Dog");
        Animal animal2 = Animal.of("Dog");

        System.out.println(animal1 == animal2); // ì¶œë ¥: true (ê°™ì€ ì¸ìŠ¤í„´ìŠ¤)
    }
}
```

* `animal1`ê³¼ `animal2`ëŠ” ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ `==` ì—°ì‚° ê²°ê³¼ê°€ `true`ì´ë‹¤.
* ì´ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ê³  ê°ì²´ ë¹„êµ ì‹œ íš¨ìœ¨ì„±ì„ ë†’ì¸ë‹¤.

### 3) ëª¨ë“  í•„ë“œë¥¼ finalë¡œ ì„ ì–¸í•œë‹¤. ì‹œìŠ¤í…œì´ ê°•ì œí•˜ëŠ” ìˆ˜ë‹¨ì„ ì´ìš©í•´ ì„¤ê³„ì ì˜ ì˜ë„ë¥¼ ëª…í™•íˆ ë“œëŸ¬ë‚´ëŠ” ë°©ë²•ì´ë‹¤.&#x20;

ìë°” ì–¸ì–´ì—ì„œ **final**ì„ ì‚¬ìš©í•˜ë©´ ê°’ì„ ë°”ê¿€ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ëª…ì‹œì ìœ¼ë¡œ ê°’ì„ `ë¶ˆë³€`ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ìƒˆë¡œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë™ê¸°í™” ì—†ì´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì „ë‹¬í•˜ë”ë¼ë„ ë¬¸ì œì—†ì´ ë™ì‘í•˜ê²Œë” ë™ì‘í•˜ëŠ” ë°ì—ë„ í•„ìš”í•˜ë‹¤.

&#x20;

### 4) ëª¨ë“  í•„ë“œë¥¼ privateìœ¼ë¡œ ì„ ì–¸í•œë‹¤.&#x20;

í•„ë“œê°€ ì°¸ì¡°í•˜ëŠ” ê°€ë³€ ê°ì²´ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì§ì ‘ ì ‘ê·¼í•´ ìˆ˜ì •í•˜ëŠ” ì¼ì„ ë§‰ì•„ì¤€ë‹¤. ê¸°ìˆ ì ìœ¼ë¡œëŠ” ê¸°ë³¸ íƒ€ì… í•„ë“œ ë‚˜ ë¶ˆë³€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” í•„ë“œë¥¼ public finalë¡œë§Œ ì„ ì–¸í•´ë„ ë¶ˆë³€ ê°ì²´ê°€ ë˜ì§€ë§Œ, ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ìŒ ë¦´ë¦¬ìŠ¤ì—ì„œ ë‚´ë¶€ í‘œí˜„ì„ ë°”ê¾¸ì§€ ëª»í•˜ë¯€ë¡œ ê¶Œí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.



### 5) ìì‹  ì™¸ì—ëŠ” ë‚´ë¶€ì˜ ê°€ë³€ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ í•œë‹¤.

> í´ë˜ìŠ¤ì— ê°€ë³€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” í•„ë“œê°€ í•˜ë‚˜ë¼ë„ ìˆë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê·¸ ê°ì²´ì˜ ì°¸ì¡°ë¥¼ ì–»ì„ ìˆ˜ ì—†ë„ë¡ í•´ì•¼ í•œë‹¤.&#x20;

ì´ëŸ° í•„ë“œëŠ” ì ˆëŒ€ í´ë¼ì´ì–¸íŠ¸ê°€ ì œê³µí•œ ê° ì²´ ì°¸ì¡°ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•´ì„œëŠ” ì•ˆ ë˜ë©°, ì ‘ê·¼ì ë©”ì„œë“œê°€ ê·¸ í•„ë“œë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•´ì„œë„ ì•ˆ ëœë‹¤. ìƒì„±ì, ì ‘ê·¼ì, readObject ë©”ì„œë“œ ëª¨ë‘ì—ì„œ ë°©ì–´ ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰í•˜ë¼.



## 3. ì´ ëª¨ë“  ê²ƒì„ ì§€í‚¤ëŠ” í´ë˜ìŠ¤ ì˜ˆì œ

```java
import java.util.Date;

public final class Person {
    // 1) ëª¨ë“  í•„ë“œë¥¼ private finalë¡œ ì„ ì–¸
    private final String name;
    private final Date birthDate; // DateëŠ” ê°€ë³€ ê°ì²´ì´ë¯€ë¡œ ë°©ì–´ì  ë³µì‚¬ í•„ìš”

    // 2) ìƒì„±ìë¥¼ í†µí•´ í•„ë“œë¥¼ ì´ˆê¸°í™”í•˜ê³ , ê°€ë³€ ê°ì²´ëŠ” ë°©ì–´ì  ë³µì‚¬ ìˆ˜í–‰
    public Person(String name, Date birthDate) {
        this.name = name;
        // ë°©ì–´ì  ë³µì‚¬ (ì™¸ë¶€ì—ì„œ ì „ë‹¬ëœ birthDateì˜ ì°¸ì¡°ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
        this.birthDate = new Date(birthDate.getTime());
    }

    // 3) getter ë©”ì„œë“œë„ ê°€ë³€ ê°ì²´ì— ëŒ€í•´ ë°©ì–´ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰
    public String getName() {
        return name; // Stringì€ ë¶ˆë³€ ê°ì²´ë¼ ë°©ì–´ì  ë³µì‚¬ í•„ìš” ì—†ìŒ
    }

    public Date getBirthDate() {
        // ë°©ì–´ì  ë³µì‚¬ (ë‚´ë¶€ì˜ Date ê°ì²´ë¥¼ ì™¸ë¶€ì— ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ì§€ ì•ŠìŒ)
        return new Date(birthDate.getTime());
    }

    // 4) setter ë©”ì„œë“œ ì œê³µí•˜ì§€ ì•ŠìŒ (ê°ì²´ ìƒíƒœ ë³€ê²½ ë¶ˆê°€)
    // ì´ í´ë˜ìŠ¤ì—ëŠ” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œê°€ ì—†ìŒ
    
    // 5) ì´ í´ë˜ìŠ¤ëŠ” ìƒì†í•  ìˆ˜ ì—†ë„ë¡ finalë¡œ ì„ ì–¸ë¨
}

```

**1) ëª¨ë“  í•„ë“œë¥¼ `private final`ë¡œ ì„ ì–¸**

* **í•„ë“œ ì ‘ê·¼ì„ `private`ë¡œ ì œí•œ**í•˜ì—¬ ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ í•˜ê³ , `final`ë¡œ ì„ ì–¸í•´ ì´ˆê¸°í™” í›„ í•„ë“œì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ í–ˆë‹¤.

**2) ìƒì„±ìì—ì„œ ë°©ì–´ì  ë³µì‚¬ ìˆ˜í–‰**

* **ìƒì„±ì**ì—ì„œ ì™¸ë¶€ì—ì„œ ì „ë‹¬ëœ `Date` ê°ì²´ê°€ ì›ë³¸ ê·¸ëŒ€ë¡œ ì €ì¥ë˜ì§€ ì•Šë„ë¡ **ë³µì‚¬ë³¸**ì„ ë§Œë“¤ì–´ ì €ì¥í–ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì™¸ë¶€ì—ì„œ ì „ë‹¬í•œ `Date` ê°ì²´ë¥¼ ìˆ˜ì •í•˜ë”ë¼ë„ `Person` ê°ì²´ì˜ `birthDate` í•„ë“œì— ì˜í–¥ì„ ì¤„ ìˆ˜ ì—†ë‹¤.

**3) `getter` ë©”ì„œë“œì—ì„œ ë°©ì–´ì  ë³µì‚¬ ìˆ˜í–‰**

* **`getBirthDate` ë©”ì„œë“œ**ì—ì„œëŠ” ì›ë³¸ `birthDate` ê°ì²´ ëŒ€ì‹  **ë³µì‚¬ë³¸**ì„ ë°˜í™˜í•œë‹¤. ì´ë¥¼ í†µí•´ ì™¸ë¶€ ì½”ë“œì—ì„œ ë°˜í™˜ëœ `Date` ê°ì²´ë¥¼ ë³€ê²½í•˜ë”ë¼ë„, `Person` ê°ì²´ì˜ í•„ë“œì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

**4) setter ë©”ì„œë“œë¥¼ ì œê³µí•˜ì§€ ì•ŠìŒ**

* **ë³€ê²½ì(setter) ë©”ì„œë“œ**ë¥¼ ì œê³µí•˜ì§€ ì•Šì•„ì„œ, **ê°ì²´ê°€ ìƒì„±ëœ í›„ í•„ë“œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡** í–ˆë‹¤.

**5) ìƒì† ë¶ˆê°€ (`final` í´ë˜ìŠ¤)**

* ì´ í´ë˜ìŠ¤ëŠ” **`final`ë¡œ ì„ ì–¸**ë˜ì–´ ìˆì–´, **ìƒì†ì„ í†µí•´ í™•ì¥í•  ìˆ˜ ì—†ë„ë¡** í–ˆë‹¤. ì´ë¥¼ í†µí•´ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë¶ˆë³€ì„±ì„ í•´ì¹˜ê±°ë‚˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì„ ë°©ì§€í–ˆë‹¤.



## 4. ë¶ˆë³€ ê°ì²´ì˜ ì¥ë‹¨ì 

### **1) ë¶ˆë³€ ê°ì²´ì˜ ì¥ì **

* **ìŠ¤ë ˆë“œ ì•ˆì „ì„±**: ë¶ˆë³€ ê°ì²´ëŠ” ìŠ¤ë ˆë“œ ê°„ì— ì•ˆì „í•˜ê²Œ ê³µìœ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ **ë™ê¸°í™” ì‘ì—… ì—†ì´**ë„ **ì•ˆì „í•˜ê²Œ ì‚¬ìš©**í•  ìˆ˜ ìˆë‹¤.
* **ì•ˆì •ì„±**: ë¶ˆë³€ ê°ì²´ëŠ” ìƒíƒœê°€ ë³€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ **ì•ˆì •ì **ì´ê³  **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘**ì„ í•©ë‹ˆë‹¤. **í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°**ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤.
* **ìºì‹± ë° ì¬ì‚¬ìš© ê°€ëŠ¥ì„±**: ë¶ˆë³€ ê°ì²´ëŠ” **ê³µìœ ** ë° **ì¬ì‚¬ìš©**ì´ ê°€ëŠ¥í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `ZERO`, `ONE`, `I`ì™€ ê°™ì€ ìƒìˆ˜ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.

### **2) ë¶ˆë³€ ê°ì²´ì˜ ë‹¨ì **

* **ê°’ ë³€ê²½ ì‹œ ìƒˆ ê°ì²´ ìƒì„±**: ë¶ˆë³€ ê°ì²´ëŠ” ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ í•­ìƒ **ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±**í•´ì•¼ í•œë‹¤. ì´ë¡œ ì¸í•´ ì„±ëŠ¥ ì €í•˜ë‚˜ ë©”ëª¨ë¦¬ ì‚¬ìš© ì¦ê°€ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
  * ì˜ˆë¥¼ ë“¤ì–´, `Complex` ê°ì²´ì—ì„œ ë§ì…ˆì´ë‚˜ ëº„ì…ˆì„ ìˆ˜í–‰í•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ `Complex` ê°ì²´ê°€ ìƒì„±ë˜ë©°, ì›ë˜ ê°ì²´ëŠ” ê·¸ëŒ€ë¡œ ë‚¨ëŠ”ë‹¤.
  * í° ê°ì²´ë‚˜ ë‹¤ë‹¨ê³„ ì—°ì‚°ì„ ìˆ˜í–‰í•  ë•ŒëŠ” **ë¶ˆë³€ ê°ì²´ì˜ ì„±ëŠ¥ ë¬¸ì œ**ê°€ ë‘ë“œëŸ¬ì§ˆ ìˆ˜ ìˆë‹¤. ì´ëŸ° ê²½ìš° ê°€ë³€ ë™ë°˜ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ë‹¤ë‹¨ê³„ ì—°ì‚°ì„ ìœ„í•œ ìµœì í™”ë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤.



## ì •ë¦¬

1. Getterê°€ ìˆë‹¤ê³  í•´ì„œ ë¬´ì¡°ê±´ Setterë¥¼ ë§Œë“¤ì§€ ë§ì. í´ë˜ìŠ¤ê°€ ê¼­ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ë¶ˆë³€ì„ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì„¤ê³„ì  ê´€ì ì—ì„œ ë°”ëŒì§í•˜ë‹¤.
2. ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ë‹¤. í•˜ì§€ë§Œ ê°€ë³€ í´ë˜ìŠ¤ë”ë¼ë„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ ìµœì†Œí•œìœ¼ë¡œ ì¤„ì´ì. (ë³€ê²½ì´ ì—†ê²Œ ë§Œë“  í›„ ëª¨ë‘ `final` ì„ ì–¸ì„ í•˜ê³ , íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ë‹¤ë©´ ëª¨ë‘ private final ì„ ì–¸ì„ í•˜ì.)
3. ìƒì„±ìëŠ” ë¶ˆë³€ì‹ ì„¤ì •ì´ ëª¨ë‘ ì™„ë£Œëœ ìƒíƒœì˜ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. **ì¦‰, í™•ì‹¤í•œ ì´ìœ ê°€ ì—†ë‹¤ë©´ ìƒì„±ìì™€ ì •ì  íŒ©í„°ë¦¬ ì™¸ì—ëŠ” ê·¸ ì–´ë–¤ ì´ˆê¸°í™” ë©”ì„œë“œë„ publicìœ¼ë¡œ ì œê³µí•´ì„œëŠ” ì•ˆëœë‹¤**. ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•  ëª©ì ìœ¼ë¡œ ìƒíƒœë¥¼ ë‹¤ì‹œ ì´ˆê¸°í™”í•˜ëŠ” ë©”ì„œë“œë„ ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤.



> ì°¸ê³  ê¸€ : [https://ttl-blog.tistory.com/1205#%F0%9F%A7%90%20%EB%B6%88%EB%B3%80%20%EA%B0%9D%EC%B2%B4%20%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0-1](https://ttl-blog.tistory.com/1205#%F0%9F%A7%90%20%EB%B6%88%EB%B3%80%20%EA%B0%9D%EC%B2%B4%20%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0-1)
